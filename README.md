# üé¨ BlueFlow - Gerenciador de V√≠deos do YouTube

Sistema completo de gerenciamento de v√≠deos do YouTube com arquitetura de microsservi√ßos.

![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)
![NestJS](https://img.shields.io/badge/NestJS-E0234E?style=for-the-badge&logo=nestjs&logoColor=white)
![Next.js](https://img.shields.io/badge/Next.js-000000?style=for-the-badge&logo=next.js&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=for-the-badge&logo=postgresql&logoColor=white)

---

## üìã √çndice

- [Sobre o Projeto](#-sobre-o-projeto)
- [Funcionalidades](#-funcionalidades)
- [Tecnologias](#-tecnologias)
- [Arquitetura](#-arquitetura)
- [Pr√©-requisitos](#-pr√©-requisitos)
- [Instala√ß√£o](#-instala√ß√£o)
- [Configura√ß√£o](#-configura√ß√£o)
- [Como Obter YouTube API Key](#-como-obter-youtube-api-key)
- [Executando a Aplica√ß√£o](#-executando-a-aplica√ß√£o)
- [Testando a Aplica√ß√£o](#-testando-a-aplica√ß√£o)
- [Estrutura do Projeto](#-estrutura-do-projeto)
- [API Endpoints](#-api-endpoints)
- [Troubleshooting](#-troubleshooting)
- [Licen√ßa](#-licen√ßa)

---

## üéØ Sobre o Projeto

O **BlueFlow** √© uma aplica√ß√£o web moderna que permite aos usu√°rios:

- üîê **Autenticar-se** com seguran√ßa usando JWT
- üîç **Buscar v√≠deos** do YouTube por palavras-chave
- üì∫ **Ver v√≠deos em alta** direto da API oficial do YouTube
- ‚≠ê **Favoritar v√≠deos** e gerenciar sua cole√ß√£o pessoal
- üì± **Interface responsiva** que funciona em qualquer dispositivo

O projeto foi desenvolvido seguindo os **princ√≠pios SOLID**, **Clean Architecture** e utiliza diversos **Design Patterns** como Repository, Strategy e Adapter.

---

## ‚ú® Funcionalidades

### üîê Autentica√ß√£o
- Registro de novos usu√°rios
- Login com email e senha
- Tokens JWT com expira√ß√£o de 24 horas
- Prote√ß√£o de rotas privadas

### üìπ V√≠deos
- Busca personalizada de v√≠deos do YouTube
- Listagem de v√≠deos em alta (trending)
- Pagina√ß√£o de resultados
- Cache inteligente para economizar chamadas √† API

### ‚≠ê Favoritos
- Adicionar v√≠deos aos favoritos
- Remover v√≠deos dos favoritos
- Ver lista completa de favoritos
- Cada usu√°rio tem sua pr√≥pria lista

---

## üõ†Ô∏è Tecnologias

### Backend
- **NestJS** - Framework Node.js moderno e escal√°vel
- **TypeScript** - JavaScript com tipagem est√°tica
- **PostgreSQL** - Banco de dados relacional (3 inst√¢ncias isoladas)
- **TypeORM** - ORM para TypeScript/JavaScript
- **JWT** - Autentica√ß√£o via tokens
- **Bcrypt** - Hash seguro de senhas
- **Jest** - Framework de testes

### Frontend
- **Next.js 14** - Framework React com App Router
- **TypeScript** - JavaScript com tipagem est√°tica
- **Tailwind CSS** - Framework CSS utilit√°rio
- **shadcn/ui** - Componentes UI modernos
- **Sonner** - Sistema de notifica√ß√µes toast
- **Axios** - Cliente HTTP

### DevOps
- **Docker** - Containeriza√ß√£o
- **Docker Compose** - Orquestra√ß√£o de containers

---

## üèóÔ∏è Arquitetura

O projeto utiliza **arquitetura de microsservi√ßos**, com 3 servi√ßos independentes:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Frontend (Next.js)                  ‚îÇ
‚îÇ         http://localhost:3000               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ          ‚îÇ          ‚îÇ
       ‚ñº          ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Auth    ‚îÇ ‚îÇ  Videos  ‚îÇ ‚îÇFavorites ‚îÇ
‚îÇ Service  ‚îÇ ‚îÇ Service  ‚îÇ ‚îÇ Service  ‚îÇ
‚îÇ :3001    ‚îÇ ‚îÇ :3002    ‚îÇ ‚îÇ :3003    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ            ‚îÇ            ‚îÇ
     ‚ñº            ‚ñº            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Auth DB  ‚îÇ ‚îÇVideos DB ‚îÇ ‚îÇFavorites ‚îÇ
‚îÇ :5432    ‚îÇ ‚îÇ :5433    ‚îÇ ‚îÇ   DB     ‚îÇ
‚îÇ          ‚îÇ ‚îÇ          ‚îÇ ‚îÇ :5434    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Comunica√ß√£o entre Servi√ßos

- Frontend se comunica com cada microsservi√ßo via **REST API**
- `videos-service` e `favorites-service` validam tokens com `auth-service`
- Cada servi√ßo tem seu pr√≥prio banco de dados PostgreSQL isolado

---

## üì¶ Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado em sua m√°quina:

- **Node.js** >= 18.x ([Download](https://nodejs.org/))
- **npm** >= 9.x (vem com o Node.js)
- **Docker** e **Docker Compose** ([Download](https://docs.docker.com/get-docker/))
- **Git** ([Download](https://git-scm.com/downloads))
- **YouTube API Key** (veja como obter abaixo)

### Verificar Instala√ß√µes

```bash
# Verificar vers√£o do Node.js
node --version
# Deve retornar: v18.x.x ou superior

# Verificar vers√£o do npm
npm --version
# Deve retornar: 9.x.x ou superior

# Verificar Docker
docker --version
# Deve retornar: Docker version 20.x.x ou superior

# Verificar Docker Compose
docker-compose --version
# Deve retornar: docker-compose version 1.29.x ou superior
```

---

## üöÄ Instala√ß√£o

### 1. Clonar o Reposit√≥rio

```bash
# Clone o reposit√≥rio
git clone https://github.com/jmgrd98/Desafio-BlueFlow-Pleno.git

# Entre na pasta do projeto
cd Desafio-BlueFlow-Pleno
```

### 2. Iniciar os Bancos de Dados

```bash
# Inicie os 3 bancos PostgreSQL com Docker Compose
docker-compose up -d

# Verificar se os containers est√£o rodando
docker ps

# Voc√™ deve ver 3 containers:
# - auth-db (porta 5432)
# - videos-db (porta 5433)
# - favorites-db (porta 5434)
```

### 3. Instalar Depend√™ncias dos Microsservi√ßos

#### Auth Service

```bash
cd backend/auth-service
npm install
cd ../..
```

#### Videos Service

```bash
cd backend/videos-service
npm install
cd ../..
```

#### Favorites Service

```bash
cd backend/favorites-service
npm install
cd ../..
```

#### Frontend

```bash
cd frontend
npm install
cd ..
```

---

## ‚öôÔ∏è Configura√ß√£o

Voc√™ precisa criar arquivos `.env` para cada servi√ßo com as configura√ß√µes necess√°rias.

### 1. Auth Service

```bash
# Criar arquivo .env
cd backend/auth-service
nano .env
```

Cole o seguinte conte√∫do:

```env
PORT=3001
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=auth_user
DB_PASSWORD=auth_pass
DB_DATABASE=auth_db
JWT_SECRET=sua-chave-secreta-super-segura-aqui-mude-em-producao
FRONTEND_URL=http://localhost:3000
```

**‚ö†Ô∏è IMPORTANTE:** Troque `JWT_SECRET` por uma chave aleat√≥ria e segura em produ√ß√£o!

### 2. Videos Service

```bash
# Criar arquivo .env
cd backend/videos-service
nano .env
```

Cole o seguinte conte√∫do:

```env
PORT=3002
DB_HOST=localhost
DB_PORT=5433
DB_USERNAME=videos_user
DB_PASSWORD=videos_pass
DB_DATABASE=videos_db
YOUTUBE_API_KEY=SUA_CHAVE_DA_API_DO_YOUTUBE_AQUI
AUTH_SERVICE_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000
```

**‚ö†Ô∏è CR√çTICO:** Voc√™ PRECISA adicionar sua `YOUTUBE_API_KEY`! Veja como obter abaixo.

### 3. Favorites Service

```bash
# Criar arquivo .env
cd backend/favorites-service
nano .env
```

Cole o seguinte conte√∫do:

```env
PORT=3003
DB_HOST=localhost
DB_PORT=5434
DB_USERNAME=favorites_user
DB_PASSWORD=favorites_pass
DB_DATABASE=favorites_db
AUTH_SERVICE_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000
```

### 4. Frontend

```bash
# Criar arquivo .env.local
cd frontend
nano .env.local
```

Cole o seguinte conte√∫do:

```env
NEXT_PUBLIC_AUTH_API_URL=http://localhost:3001
NEXT_PUBLIC_VIDEOS_API_URL=http://localhost:3002
NEXT_PUBLIC_FAVORITES_API_URL=http://localhost:3003
```

---

## üîë Como Obter YouTube API Key

A aplica√ß√£o utiliza a **YouTube Data API v3** para buscar v√≠deos. √â **OBRIGAT√ìRIO** ter uma API Key.

### Passo a Passo Completo

#### 1. Acesse o Google Cloud Console

Abra seu navegador e v√° para: [https://console.cloud.google.com](https://console.cloud.google.com)

#### 2. Crie um Novo Projeto

1. Clique no seletor de projetos no topo da p√°gina
2. Clique em **"NOVO PROJETO"**
3. Nome do projeto: `BlueFlow` (ou qualquer nome)
4. Clique em **"CRIAR"**
5. Aguarde alguns segundos
6. Selecione o projeto criado

#### 3. Ative a YouTube Data API v3

1. No menu lateral, v√° em **"APIs e Servi√ßos"** ‚Üí **"Biblioteca"**
2. Na busca, digite: `YouTube Data API v3`
3. Clique no resultado **"YouTube Data API v3"**
4. Clique em **"ATIVAR"**
5. Aguarde a ativa√ß√£o (alguns segundos)

#### 4. Crie a API Key

1. V√° em **"APIs e Servi√ßos"** ‚Üí **"Credenciais"**
2. Clique em **"CRIAR CREDENCIAIS"**
3. Selecione **"Chave de API"**
4. Uma janela popup aparecer√° com sua chave! üéâ
5. **COPIE A CHAVE** e guarde em local seguro

Exemplo de chave: `AIzaSyB1234567890abcdefghijklmnopqrstuvw`

#### 5. (Opcional) Restrinja a API Key

Para maior seguran√ßa:

1. Clique em **"EDITAR CHAVE DE API"**
2. Em **"Restri√ß√µes de API"**, selecione **"Restringir chave"**
3. Marque apenas: **"YouTube Data API v3"**
4. Clique em **"SALVAR"**

#### 6. Adicione no .env do Videos Service

```bash
# backend/videos-service/.env
YOUTUBE_API_KEY=SUA_CHAVE_AQUI
```

### ‚ö†Ô∏è Importante sobre a API

- **Quota di√°ria gratuita:** 10.000 unidades/dia
- **Custo de uma busca:** ~100 unidades
- **Total de buscas por dia:** ~100 buscas gratuitas
- **Reset da quota:** Meia-noite (hor√°rio PST)

Se exceder o limite, voc√™ ver√° o erro: `quotaExceeded`

---

## üéÆ Executando a Aplica√ß√£o

Voc√™ precisa abrir **4 terminais diferentes**, um para cada servi√ßo.

### Terminal 1 - Auth Service

```bash
cd backend/auth-service
npm run start:dev
```

‚úÖ Aguarde at√© ver: `üöÄ Auth Service running on port 3001`

### Terminal 2 - Videos Service

```bash
cd backend/videos-service
npm run start:dev
```

‚úÖ Aguarde at√© ver: `üé• Videos Service running on port 3002`

### Terminal 3 - Favorites Service

```bash
cd backend/favorites-service
npm run start:dev
```

‚úÖ Aguarde at√© ver: `‚≠ê Favorites Service running on port 3003`

### Terminal 4 - Frontend

```bash
cd frontend
npm run dev
```

‚úÖ Aguarde at√© ver: `Ready on http://localhost:3000`

### ‚úÖ Pronto!

Acesse a aplica√ß√£o em: **http://localhost:3000**

---

## üß™ Testando a Aplica√ß√£o

### 1. Criar uma Conta

1. Acesse: http://localhost:3000
2. Clique em **"Sign up"** (Criar conta)
3. Preencha:
   - Nome: `Seu Nome`
   - Email: `seu@email.com`
   - Senha: `senha123` (m√≠nimo 6 caracteres)
4. Clique em **"Create Account"**

### 2. Fazer Login

1. Ap√≥s o registro, voc√™ ser√° redirecionado automaticamente
2. Ou v√° para: http://localhost:3000/login
3. Entre com seu email e senha

### 3. Buscar V√≠deos

1. No dashboard, use a barra de busca
2. Digite algo como: `javascript tutorial`
3. Clique em **"Search"**
4. Veja os resultados!

### 4. Favoritar V√≠deos

1. Clique no ‚ù§Ô∏è (cora√ß√£o) em qualquer v√≠deo
2. O cora√ß√£o ficar√° vermelho ‚úÖ
3. V√° na aba **"Favorites"** para ver seus favoritos

### 5. Ver V√≠deo no YouTube

Clique na thumbnail ou t√≠tulo de qualquer v√≠deo para abrir no YouTube.

---

## üß™ Executar Testes Automatizados

```bash
# Auth Service
cd backend/auth-service
npm run test

# Com coverage
npm run test:cov

# Videos Service
cd backend/videos-service
npm run test
npm run test:cov

# Favorites Service
cd backend/favorites-service
npm run test
npm run test:cov
```

**Cobertura de testes:** > 80% em todos os servi√ßos

---

## üìÅ Estrutura do Projeto

```
Desafio-BlueFlow-Pleno/
‚îÇ
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ auth-service/              # Microsservi√ßo de Autentica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain/           # Entidades (User)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ application/      # Casos de uso, DTOs, Services
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/   # Repositories, Guards, Adapters
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presentation/     # Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.module.ts
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test/                 # Testes unit√°rios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env                  # Configura√ß√µes (n√£o versionado)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ videos-service/            # Microsservi√ßo de V√≠deos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain/           # Entidades (VideoCache)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ application/      # Services, DTOs
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/   # YouTube Adapter, Repositories
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ presentation/     # Controllers
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ favorites-service/         # Microsservi√ßo de Favoritos
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ domain/           # Entidades (Favorite)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ application/      # Services, DTOs
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ infrastructure/   # Repositories
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ presentation/     # Controllers
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ main.ts
‚îÇ       ‚îú‚îÄ‚îÄ test/
‚îÇ       ‚îú‚îÄ‚îÄ .env
‚îÇ       ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ frontend/                      # Aplica√ß√£o Next.js
‚îÇ   ‚îú‚îÄ‚îÄ app/                      # App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/               # P√°gina de login
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register/            # P√°gina de registro
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dashboard/           # Dashboard principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ components/               # Componentes React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                  # Componentes shadcn/ui
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ navbar.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ video-card.tsx
‚îÇ   ‚îú‚îÄ‚îÄ contexts/                 # Context API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth-context.tsx
‚îÇ   ‚îú‚îÄ‚îÄ lib/                      # Utilit√°rios
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api-client.ts
‚îÇ   ‚îú‚îÄ‚îÄ .env.local               # Configura√ß√µes (n√£o versionado)
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml             # Configura√ß√£o dos bancos
‚îú‚îÄ‚îÄ README.md                      # Este arquivo
‚îî‚îÄ‚îÄ .gitignore
```

---

## üì° API Endpoints

### Auth Service (http://localhost:3001)

| M√©todo | Endpoint | Descri√ß√£o | Autentica√ß√£o |
|--------|----------|-----------|--------------|
| POST | `/auth/register` | Registrar novo usu√°rio | ‚ùå |
| POST | `/auth/login` | Fazer login | ‚ùå |
| GET | `/auth/profile` | Obter perfil do usu√°rio | ‚úÖ |
| GET | `/auth/validate` | Validar token JWT | ‚úÖ |

### Videos Service (http://localhost:3002)

| M√©todo | Endpoint | Descri√ß√£o | Autentica√ß√£o |
|--------|----------|-----------|--------------|
| GET | `/videos/search?query=termo` | Buscar v√≠deos | ‚úÖ |
| GET | `/videos/trending` | V√≠deos em alta | ‚úÖ |
| GET | `/videos/:id` | Detalhes de um v√≠deo | ‚úÖ |

### Favorites Service (http://localhost:3003)

| M√©todo | Endpoint | Descri√ß√£o | Autentica√ß√£o |
|--------|----------|-----------|--------------|
| GET | `/favorites` | Listar favoritos do usu√°rio | ‚úÖ |
| POST | `/favorites` | Adicionar aos favoritos | ‚úÖ |
| DELETE | `/favorites/:videoId` | Remover dos favoritos | ‚úÖ |
| GET | `/favorites/check/:videoId` | Verificar se √© favorito | ‚úÖ |

### Exemplos de Uso com cURL

```bash
# 1. Registrar usu√°rio
curl -X POST http://localhost:3001/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "teste@example.com",
    "password": "senha123",
    "name": "Teste User"
  }'

# 2. Login (copie o accessToken da resposta)
curl -X POST http://localhost:3001/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "teste@example.com",
    "password": "senha123"
  }'

# 3. Buscar v√≠deos (substitua YOUR_TOKEN)
curl -X GET "http://localhost:3002/videos/search?query=javascript" \
  -H "Authorization: Bearer YOUR_TOKEN"

# 4. Ver favoritos
curl -X GET http://localhost:3003/favorites \
  -H "Authorization: Bearer YOUR_TOKEN"
```

---

## üîß Troubleshooting

### Problema: Porta j√° est√° em uso

```bash
# Erro: EADDRINUSE: address already in use :::3001

# Solu√ß√£o: Matar o processo na porta
sudo kill -9 $(sudo lsof -t -i:3001)

# Para todas as portas:
sudo kill -9 $(sudo lsof -t -i:3001)
sudo kill -9 $(sudo lsof -t -i:3002)
sudo kill -9 $(sudo lsof -t -i:3003)
sudo kill -9 $(sudo lsof -t -i:3000)
```

### Problema: Erro ao conectar no banco de dados

```bash
# Erro: Connection refused 127.0.0.1:5432

# Solu√ß√£o: Reiniciar containers Docker
docker-compose down
docker-compose up -d

# Aguarde 10 segundos
sleep 10

# Reinicie os servi√ßos
```

### Problema: YouTube API - 403 Forbidden

```bash
# Erro: quotaExceeded ou API key not valid

# Solu√ß√µes:
1. Verifique se a YOUTUBE_API_KEY est√° correta no .env
2. Confirme que a YouTube Data API v3 est√° ativada
3. Aguarde o reset da quota (meia-noite PST)
4. Crie outra API Key em outro projeto
```

### Problema: 401 Unauthorized nas requisi√ß√µes

```bash
# Erro: Invalid token

# Solu√ß√µes:
1. Fa√ßa login novamente para obter novo token
2. Verifique se o token n√£o expirou (24h de validade)
3. Certifique-se que JWT_SECRET √© o mesmo em todos os .env
4. Verifique se AUTH_SERVICE_URL est√° correto nos outros servi√ßos
```

### Problema: Frontend n√£o carrega

```bash
# Erro: Failed to fetch

# Solu√ß√µes:
1. Verifique se todos os servi√ßos backend est√£o rodando
2. Confirme as URLs no .env.local do frontend
3. Limpe o cache: rm -rf frontend/.next
4. Reinstale: cd frontend && npm install
```

### Problema: M√≥dulo n√£o encontrado

```bash
# Erro: Cannot find module

# Solu√ß√£o: Reinstalar depend√™ncias
cd backend/auth-service
rm -rf node_modules package-lock.json
npm install

# Repita para cada servi√ßo
```

---

## üé® Design Patterns Utilizados

1. **Repository Pattern** - Abstra√ß√£o de acesso a dados
2. **Strategy Pattern** - Diferentes estrat√©gias de hash (Bcrypt) e token (JWT)
3. **Adapter Pattern** - Adaptador para YouTube API
4. **Factory Pattern** - Cria√ß√£o de entidades
5. **Dependency Injection** - Invers√£o de controle (NestJS)
6. **Guard Pattern** - Prote√ß√£o de rotas

---

## üîí Seguran√ßa

- ‚úÖ Senhas hasheadas com **Bcrypt** (10 salt rounds)
- ‚úÖ Autentica√ß√£o **JWT** com expira√ß√£o de 24 horas
- ‚úÖ **Guards** para prote√ß√£o de rotas privadas
- ‚úÖ Valida√ß√£o de entrada com **class-validator**
- ‚úÖ **CORS** configurado para permitir apenas frontend
- ‚úÖ Vari√°veis sens√≠veis em arquivos **.env** (n√£o versionados)
- ‚úÖ Comunica√ß√£o autenticada entre microsservi√ßos

---

## üìù Scripts √öteis

```bash
# Parar TODOS os processos Node
pkill -9 node

# Ver processos rodando nas portas
sudo lsof -i :3001
sudo lsof -i :3002
sudo lsof -i :3003

# Ver logs do Docker
docker-compose logs -f

# Resetar TUDO (bancos de dados)
docker-compose down -v
docker-compose up -d

# Rebuild de um servi√ßo
cd backend/auth-service
rm -rf dist
npm run build
npm run start:dev
```

---

## üë®‚Äçüíª Autor

**Jo√£o Matheus Gerv√°sio Rodrigues Dantas**

- GitHub: [@jmgrd98](https://github.com/jmgrd98)
- LinkedIn: [Jo√£o Dantas](https://linkedin.com/in/seu-perfil)

---

## üìÑ Licen√ßa

Este projeto foi desenvolvido para o desafio t√©cnico BlueFlow.

---

## üÜò Precisa de Ajuda?

Se voc√™ encontrou algum problema ou tem d√∫vidas:

1. üìñ Leia a se√ß√£o de [Troubleshooting](#-troubleshooting)
2. üîç Verifique se seguiu todos os passos da [Instala√ß√£o](#-instala√ß√£o)
3. üêõ Abra uma [Issue no GitHub](https://github.com/jmgrd98/Desafio-BlueFlow-Pleno/issues)

---

‚≠ê **Se voc√™ gostou do projeto, deixe uma estrela no reposit√≥rio!**

üöÄ **Desenvolvido com dedica√ß√£o para o desafio BlueFlow**